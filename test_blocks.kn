// Test file for block functions
// This should work with the fixed parser

// Simple block function
test_simple_block() = {
    x = 10
    y = 20
    x + y
}

// Block function with multiple statements
test_complex_block() = {
    a = 5
    b = multiply(a, 2)
    c = add(a, b)
    result = multiply(c, 3)
    result
}

// Main function using a block
main() = {
    result1 = test_simple_block()
    result2 = test_complex_block()
    add(result1, result2)
}

// Supporting functions
add(x, y) = x + y
multiply(x, y) = x * y

// Block with nested expressions
test_nested() = {
    base = 7
    squared = multiply(base, base)
    doubled = multiply(base, 2)
    final = add(squared, doubled)
    final
}

// Test constants
pi = 3
e = 2
