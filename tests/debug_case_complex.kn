// Simpler case expression test to isolate parsing issues

// Test basic constructor patterns
test_basic_patterns(request) = {
    case request {
        Get(path) -> path
        Post(path, data) -> data
        _ -> "unknown"
    }
}

// Test with simple pipeline
test_simple_pipeline(request) = {
    case request {
        Get(path) -> path |> validate_path
        Post(data) -> data |> process_data
        _ -> "default"
    }
}

// Test with method chaining
test_method_chaining(request) = {
    case request {
        Get(path) -> path.validate().process()
        Post(data) -> data.transform().save()
        _ -> "none"
    }
}

// Helper functions
validate_path(p) = p
process_data(d) = d
validate() = "validated"
process() = "processed"
transform() = "transformed"
save() = "saved"

// Main function
main() = {
    result1 = test_basic_patterns("Get")
    result2 = test_simple_pipeline("Post")
    42
}
