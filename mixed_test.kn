// Mixed test - uses string interpolation to force manual parser
// and includes block expressions to test if manual parser handles them

// Basic helper functions
add(x, y) = x + y
multiply(x, y) = x * y

// This will force manual parser due to string interpolation
name = "Alice"
greeting = "Hello, {name}!"

// Simple block function - should work if manual parser handles blocks
simple_block() = {
    x = 10
    y = 20
    add(x, y)
}

// Block function with string interpolation - forces manual parser
block_with_interpolation() = {
    result = add(5, 3)
    "The answer is {result}"
}

// Main function using both
main() = {
    block_result = simple_block()
    message = block_with_interpolation()
    block_result
}

// Test constants
pi = 3
e = 2

// Another block test
test_nested_blocks() = {
    a = 5
    b = {
        inner = multiply(a, 2)
        inner
    }
    add(a, b)
}
